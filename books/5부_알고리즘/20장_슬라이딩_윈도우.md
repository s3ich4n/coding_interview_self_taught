# 슬라이딩 윈도우

고정 사이즈의 윈도우가 이동하면서 윈도우 내에 있는 데이터를 이용해 문제를 풀이하는 알고리즘이다.

네트워크에 쓰이는 알고리즘인데 PS에도 응용가능하다. 투 포인터와 함께 알고리즘 풀이에 크게 도움된다.

슬라이딩 윈도우는 정렬여부와 관계없이 사용할 수 있다.

| 이름            | 정렬여부 | 윈도우사이즈 | 이동               |
| --------------- | -------- | ------------ | ------------------ |
| 투 포인터       | 대부분 O | 가변         | 좌우 포인터 양방향 |
| 슬라이딩 윈도우 | X        | 고정         | 좌 혹은 우 단방향  |

슬라이딩 윈도우(네트워크)는 두 네트워크 호스트 간 패킷 흐름을 제어하기 위한 방법을 지칭하는 용어다. 패킷 정송 시 _고정 크기의 윈도우가 옆으로 이동하며_ 그 다음 패킷을 전송하는 방식을 의미한다. 이 행동 패턴을 따와서 알고리즘 문제를 이렇게 이름을 붙인 것으로 보인다.

# Q75) 최대 슬라이딩 윈도우

배열 nums가 주어졌을 때 k 크기의 슬라이딩 윈도우를 오른쪽 끝까지 이동하면서 최대 슬라이딩 윈도우를 구하라.

Input)

```python
nums = [1, 3, -1, -3, 5, 3, 6, 7]
k = 3
```

Output)

```
[3, 3, 5, 5, 6, 7]
```

설명)

```
윈도우 위치                          최대값
-------------------------------    ----
[1   3   1]  -3   5   3   6   7     3
 1  [3   1   -3]  5   3   6   7     3
 1   3  [1   -3   5]  3   6   7     5
 1   3   1  [-3   5   3]  6   7     5
 1   3   1   -3  [5   3   6]  7     6
 1   3   1   -3   5  [3   6   7]    7
```

윈도우 안에서 최대값을 뽑는다.

## A1) Brute force

```python
r = []
for i in range(len(nums) - k + 1):
    r.append(max(nums[i:i + k]))
```

-> `O(k*n)` 이다.
nums가 매우 커지면 max구하는데 오래걸려서 타임아웃 난다

## A2) `deque` 를 이용해 풀이

`max()` 계산 부분을 개선해야한다.

정렬되지 않은 슬라이딩 윈도우에서 최댓값을 추출하려면 어떤 알고리즘이든 한번 이상은 봐야한다.

최댓값 계산을 줄이자.

### 어프로치

1. 이전 최댓값을 저장해둔다
2. 한 칸씩 이동할 때 새 값에 대해서만 더 큰 값인지 확인하고, 최댓값이 큐에서 빠지게될 때만 다시 전체를 계산한다.

### 개선된 어프로치

1. deque에는 윈도우 사이즈만큼 값을 작은 순으로 append 한다
   1. (중요) 큰 값이 오면 뒤에서부터 pop해서 남은 작은 값들을 모두 처리한다. 여기서 불필요한 연산을 안하게 할 수 있다.
2. (중요) deque에 3개 이상 못 넣도록 해서 윈도우 사이즈를 조절한다.
   1. 이 때 deque에 넣어둔 인덱스값을 사용한다.
3. (중요) 윈도우 크기에 맞을 때 까지는 `answer` 배열에 값을 쓰지 않는다.
4. 루프가 끝나는 시점은 배열값을 모두 순회해서 슬라이딩 윈도우를 모두 체크하고나서다.

# Q76) 부분 문자열이 포함된 최소 윈도우

문자열 S와 T를 입력받아 O(n)에 T의 모든 문자가 포함된 S의 최소 윈도우를 찾으시오.

Input)

```
S = "ADOBECODEBANC"
T = "ABC"
```

Output)

```
"BANC"
```

## A1) Brute Force

T의 크기부터 시작해 점점 크기를 키워가며 모든 윈도우 크기에 대해 찾는다.

O(n^2)이 뜬다.

`contains()` 함수 사용이 체크할만한 요소다.

슬라이딩 윈도우 내에 속한 문자를 제거한다. 제거를 못하면 false다.
근데 이러면 1:1로 대응되어야 하기도 하고, 전체를 찾지도 못하고 정렬하기도 힘들다.

## A2) 투 포인터, 슬라이딩 윈도우로 최적화

이럴 때 쓰는 테크닉이다.

적절한 위치를 찾았을 때 좌우 포인터의 크기를 좁혀나가는 것으로 해답을 찾을 수 있을 것이다.
